[ { "type": "ResourceGroup",
    "name": "${RESOURCEGROUP}",

    "location": "eastus"
  },
  
  { "type": "Env",                          // Defined some easy to use aliases
    "name": "poc",

    "location": "eastus",
    "sku": { "name": "Consumption" },
    "properties": {}
  },
  
  { "type": "App",
    "name": "poc-redis",
  
    "location": "eastus",
    "properties": {
      "environmentId": "${Env/poc.id}",
      "configuration": { "service": { "type": "redis" } }
    }
  },
  
  { "type": "Microsoft.App/containerApps",  // Can use real type or alias
    "name": "poc",
  
    "location": "eastus",
    "properties": {
      "environmentId": "${Env/poc.id}",
      "configuration": {
        "ingress": {
          "allowInsecure": true,
          "external": true,
          "targetPort": 8080
        }
      },
      "template": {
        "containers": [ {
            "image": "duglin/echo",
            "name": "echo"
          } ],
        "serviceBinds": [ {
            "serviceId": "${App/poc-redis.id}",
            "name": "redis"
} ] } } } ]
